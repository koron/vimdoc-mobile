---
layout: vimdoc
helpname: 'filetype'
---
<a class="Constant" href="filetype.html" name="filetype.txt">*filetype.txt*</a>&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 7.3.</span>&nbsp;&nbsp;Last change: 2011 Jun 19<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VIMリファレンスマニュアル&nbsp;&nbsp;&nbsp;&nbsp;by Bram Moolenaar<br>
<br>
<br>
ファイル形式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#filetype" name="filetype">*filetype*</a>&nbsp;<a class="Constant" href="filetype.html#file-type" name="file-type">*file-type*</a><br>
<br>
1. ファイル形式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="filetype.html#filetypes">|filetypes|</a><br>
2. ファイル形式別プラグイン&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="filetype.html#filetype-plugins">|filetype-plugins|</a><br>
3. 標準で付属する形式別プラグインの解説&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="filetype.html#ftplugin-docs">|ftplugin-docs|</a><br>
<br>
<a class="Identifier" href="autocmd.html">|autocmd.txt|</a>も参照。<br>
<br>
{これらのコマンドはViには存在しない}<br>
<br>
<span class="PreProc">==============================================================================</span><br>
1. ファイル形式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#filetypes" name="filetypes">*filetypes*</a>&nbsp;<a class="Constant" href="filetype.html#file-types" name="file-types">*file-types*</a><br>
<br>
Vimは編集しているファイルの形式を検出することができる。これは特定のテキストに<br>
対してファイル名をチェックしたり、場合によってはその内容を調べることで実現され<br>
ている。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#:filetype" name=":filetype">*:filetype*</a>&nbsp;<a class="Constant" href="filetype.html#:filet" name=":filet">*:filet*</a><br>
ファイル形式の検出を有効化するには、vimrcファイルでこのコマンドを使用する:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype on</span><br>
新しいファイルや既存のファイルを編集する際には必ず、Vimはファイルの形式を認識<br>
し<a class="Type" href="options.html#'filetype'">'filetype'</a>オプションを設定しようと試みる。それが構文強調やオプションの設定、<br>
その他を行なうために使われるFileTypeイベントのきっかけとなる。<br>
<br>
<span class="Todo">NOTE</span>: Viコンパチブルとは全てのオプションがグローバルであることを意味するので、<br>
ファイル形式識別と<a class="Type" href="options.html#'compatible'">'compatible'</a>は同時に使うことはできない。既に<a class="Type" href="options.html#'compatible'">'compatible'</a>を設<br>
定している場合には、それを解除する必要がある。<br>
<br>
詳細: &quot;:filetype on&quot;コマンドは次のファイルのうち1つをロードする。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Amiga&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $VIMRUNTIME/filetype.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mac&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $VIMRUNTIME:filetype.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MS-DOS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$VIMRUNTIME\filetype.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RiscOS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim:Filetype<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$VIMRUNTIME/filetype.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VMS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $VIMRUNTIME/filetype.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;このファイルはBufNewFileとBufReadイベントに対する自動実行コマンドを定<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;義するVimスクリプトファイルである。ファイル形式がファイル名から決定で<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;きない時には、ファイルの内容を検出するために$VIMRUNTIME/scripts.vimが<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用される。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GUIで使用しているとき、またはGUIを開始しようとしているときには、<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;menu.vimも読み込まれる。これを避けるには<a class="Identifier" href="options.html#'go-M'">|'go-M'|</a>を参照。<br>
<br>
独自のファイルタイプを追加するには、下の<a class="Identifier" href="filetype.html#new-filetype">|new-filetype|</a>を参照。あるファイルタイ<br>
プについてのヘルプを検索するには、ファイルタイプ名の前に &quot;ft-&quot; をつけ、さらに<br>
必要に応じて &quot;-syntax&quot;, &quot;-indent&quot;, &quot;-plugin&quot; をつける。例:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:help ft-vim-indent</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:help ft-vim-syntax</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:help ft-man-plugin</span><br>
<br>
ファイル形式を自動的に検出できなかった場合や、間違った形式になってしまった場合<br>
には、<a class="Type" href="options.html#'filetype'">'filetype'</a>オプションを手動で設定するか、ファイルにモード行(modeline)を追<br>
加する選択肢がある。例として、IDLファイルに設定するにはこのコマンドを使うか:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set filetype=idl<br>
この<a class="Identifier" href="options.html#modeline">|modeline|</a>をファイルに追加する:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">/* vim&#0058; set filetype=idl : */</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#:filetype-plugin-on" name=":filetype-plugin-on">*:filetype-plugin-on*</a><br>
ファイル形式別プラグインのロードを有効化するには:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype plugin on</span><br>
まだファイル形式検出が有効になっていない時には、同時に有効化される。<br>
これは実際には<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>にある&quot;ftplugin.vimをロードする。<br>
結果的にファイルが編集される時に対応するプラグインファイルがロードされる(ただ<br>
し検出したファイル形式に合致するプラグインファイルがあった時のみ)。<br>
<a class="Identifier" href="usr_43.html#filetype-plugin">|filetype-plugin|</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#:filetype-plugin-off" name=":filetype-plugin-off">*:filetype-plugin-off*</a><br>
ファイル形式別プラグインを無効化するには:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype plugin off</span><br>
ファイル形式の検出自体は無効にならない。しかしながらファイル形式の検出を無効に<br>
した場合には、プラグインもロードされなくなる。<br>
これは実際には<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>にある&quot;ftplugof.vim&quot;をロードする。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#:filetype-indent-on" name=":filetype-indent-on">*:filetype-indent-on*</a><br>
ファイル形式別インデントのロードを有効化するには:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype indent on</span><br>
まだファイル形式検出が有効になっていない時には、同時に有効化される。<br>
これは実際には<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>にある&quot;indent.vimをロードする。<br>
結果的にファイルが編集される時に対応するインデントファイルがロードされる(ただ<br>
し検出したファイル形式に合致するインデントファイルがあった時のみ)。<br>
<a class="Identifier" href="usr_43.html#filetype-plugin">|filetype-plugin|</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#:filetype-indent-off" name=":filetype-indent-off">*:filetype-indent-off*</a><br>
You can disable it again with:<br>
ファイル形式別インデントを無効化するには:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype indent off</span><br>
ファイル形式の検出自体は無効にならない。しかしながらファイル形式の検出を無効に<br>
した場合には、インデントファイルもロードされなくなる。<br>
これは実際には<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>にある&quot;indoff.vim&quot;をロードする。<br>
そうすると、これから開くファイルに対して自動インデントが無効になる。すでに開い<br>
ているファイルに対しては何も変わらない。すでに開いているファイルに対して自動イ<br>
ンデントを無効にするには&nbsp;<a class="Type" href="options.html#'autoindent'">'autoindent'</a>,&nbsp;<a class="Type" href="options.html#'cindent'">'cindent'</a>,&nbsp;<a class="Type" href="options.html#'smartindent'">'smartindent'</a>,&nbsp;<a class="Type" href="options.html#'indentexpr'">'indentexpr'</a><br>
をオフにする。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#:filetype-off" name=":filetype-off">*:filetype-off*</a><br>
ファイル形式の検出を無効にするには、次のコマンドを使用する:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype off</span><br>
これはプラグイン(&quot;plugin&quot;)とインデント(&quot;indent&quot;)のフラグを保持はするが、ファイ<br>
ル形式は検出されなくなるので、次に&quot;:filetype on&quot;をするまではそれらは動作しなく<br>
なる。<br>
<br>
<br>
概要:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#:filetype-overview" name=":filetype-overview">*:filetype-overview*</a><br>
<br>
<span class="PreProc">コマンド&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;検出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;プラグイン&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;インデント</span><br>
:filetype on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし<br>
:filetype off&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 無効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし<br>
:filetype plugin on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 有効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし<br>
:filetype plugin off&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;無効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし<br>
:filetype indent on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 有効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有効<br>
:filetype indent off&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変化なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;無効<br>
:filetype plugin indent on&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有効<br>
:filetype plugin indent off&nbsp;&nbsp;&nbsp;&nbsp; 変化なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;無効&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;無効<br>
<br>
現在の状態を知るには次のようにタイプする:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype</span><br>
このような出力が得られる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filetype detection:ON&nbsp;&nbsp;plugin:ON&nbsp;&nbsp;indent:OFF</span><br>
<br>
ファイル形式は構文強調にも利用される。&quot;:syntax on&quot;コマンドが使用されると、ファ<br>
イル形式検出もインストールされる。&quot;:filetype on&quot; の後に &quot;:syntax on&quot;を実行する<br>
必要はない。<br>
<br>
特定のファイル形式を無効にするには、自分のファイル形式ファイルに1行追加する。<br>
<a class="Identifier" href="filetype.html#remove-filetype">|remove-filetype|</a>参照。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#filetype-detect" name="filetype-detect">*filetype-detect*</a><br>
再びファイル検出を有効化するには:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:filetype detect</span><br>
空のファイルから編集を始めて、ファイル形式を判定するのに充分なテキストをタイプ<br>
してからコレを使用する。例えば、シェルスクリプトの中で&quot;#!/bin/csh&quot;を入力してか<br>
らということ。<br>
&nbsp;&nbsp; ファイル形式検出が無効になっていた時には、引数&quot;on&quot;が指定された時のように、<br>
初めに有効化される。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#filetype-overrule" name="filetype-overrule">*filetype-overrule*</a><br>
同じ拡張子が2つのファイル形式で使用されている時には、Vimはファイルがどのような<br>
種類であるかを推測する。これは常に動作するわけではない。ある拡張子に対してどの<br>
ファイル形式を使うか明示的に指定するのに、幾つかのグローバル変数を使うことがで<br>
きる:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">ファイル名&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変数</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.asa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:filetype_asa&nbsp;&nbsp;<a class="Identifier" href="syntax.html#ft-aspvbs-syntax">|ft-aspvbs-syntax|</a>&nbsp;<a class="Identifier" href="syntax.html#ft-aspperl-syntax">|ft-aspperl-syntax|</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.asp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:filetype_asp&nbsp;&nbsp;<a class="Identifier" href="syntax.html#ft-aspvbs-syntax">|ft-aspvbs-syntax|</a>&nbsp;<a class="Identifier" href="syntax.html#ft-aspperl-syntax">|ft-aspperl-syntax|</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.asm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:asmsyntax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="syntax.html#ft-asm-syntax">|ft-asm-syntax|</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.prg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:filetype_prg<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.pl&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g:filetype_pl<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.inc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:filetype_inc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.w&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:filetype_w&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="syntax.html#ft-cweb-syntax">|ft-cweb-syntax|</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:filetype_i&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="syntax.html#ft-progress-syntax">|ft-progress-syntax|</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:filetype_p&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="syntax.html#ft-pascal-syntax">|ft-pascal-syntax|</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.sh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g:bash_is_sh&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="syntax.html#ft-sh-syntax">|ft-sh-syntax|</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*.tex&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; g:tex_flavor&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="filetype.html#ft-tex-plugin">|ft-tex-plugin|</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#filetype-ignore" name="filetype-ignore">*filetype-ignore*</a><br>
特定のファイルが検査されないようにするには、g:ft_ignore_pat 変数を使います。こ<br>
の変数はデフォルトで次のように設定されています。<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let g:ft_ignroe_pat = '\.\(Z\|gz\|bz2\|zip\|tgz\)$'</span><br>
この設定は圧縮ファイルを検査しないようにしています。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#new-filetype" name="new-filetype">*new-filetype*</a><br>
使いたいファイル形式がVimに検出されない(存在しない)場合には、その形式を追加す<br>
る4つの方法がある。どちらにせよファイル$VIMRUNTIME/filetype.vimは変更するべき<br>
ではない。そのファイルは新しいVimをインストールする際に上書されるのだから。<br>
<br>
A. デフォルトのファイルタイプの検査をくつがえす。<br>
&nbsp;&nbsp; この方法はファイルタイプごとにファイルを作ることで機能する。不便な点は<br>
&nbsp;&nbsp; ファイルがたくさんになってしまうこと。便利な点は適切なディレクトリにファ<br>
&nbsp;&nbsp; イルを置くだけで機能すること。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#ftdetect" name="ftdetect">*ftdetect*</a>&nbsp;<br>
&nbsp;&nbsp; 1. ユーザランタイムディレクトリを作成する。通常は<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>オプション<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;に記載される最初の項目使えば良い。次にそのディレクトリに&quot;ftdetect&quot;とい<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;うディレクトリを作成する。UNIXを例に挙げる:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!mkdir ~/.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!mkdir ~/.vim/ftdetect<br>
<br>
&nbsp;&nbsp; 2. ファイル形式を検出する自動実行コマンドを含むファイルを作成する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;例:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;au BufRead,BufNewFile *.mine&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set filetype=mine</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>&nbsp;&quot;augroup&quot; コマンドは要らない。そのファイルを読み込むときに既に定<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;義されている。パターンに &quot;*&quot; を使いファイルの内容から判断することもで<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;きる。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;そのファイルを例えば &quot;mine.vim&quot; という名前で先程の &quot;ftdetect&quot; ディレク<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;トリに保存する。UNIXを例に挙げる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:w ~/.vim/ftdetect/mine.vim</span><br>
<br>
&nbsp;&nbsp; 3. 新しいファイル形式の検出を有効化するにはVimを再起動しなければならない。<br>
<br>
&nbsp;&nbsp; &quot;ftdetect&quot; ディレクトリの中のファイルはデフォルトの検査のあとに使われるの<br>
&nbsp;&nbsp; で、それ以前に決定したファイルタイプを変更することができる。しかしここで<br>
&nbsp;&nbsp;&nbsp;<a class="Identifier" href="options.html#:setfiletype">|:setfiletype|</a>を使えば、それ以前に決定したファイルタイプをそのままにしてお<br>
&nbsp;&nbsp; くこともできる。<br>
<br>
B. デフォルトのファイルタイプの検査の後にファイルタイプを決定する。<br>
<br>
&nbsp;&nbsp; 上と同様。ただし、':setfiletype'を使って無条件に<a class="Type" href="options.html#'filetype'">'filetype'</a>を設定する。<br>
&nbsp;&nbsp; これはまだファイルタイプがまだ認識されていないときだけ<a class="Type" href="options.html#'filetype'">'filetype'</a>を設定す<br>
&nbsp;&nbsp; る。次に例を示す。<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;au BufRead,BufNewFile *.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setfiletype text</span><br>
<br>
&nbsp;&nbsp; すでに認識されたファイルタイプをコマンドから使うことができる。例えば、ファ<br>
&nbsp;&nbsp; イルタイプが&quot;pascal&quot;だった時にファイルタイプを&quot;mypascal&quot;に設定するには。<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;au BufRead,BufNewFile *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if &amp;ft == 'pascal' | set ft=mypascal</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | endif</span><br>
<br>
C. ファイル形式が名前だけで検出できる場合。<br>
&nbsp;&nbsp; 1. ユーザランタイムディレクトリを作成する。通常は<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>オプションに<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;記載される最初の項目使えば良い。UNIXを例に挙げる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!mkdir ~/.vim</span><br>
<br>
&nbsp;&nbsp; 2. ファイル形式を検出する自動実行コマンドを含むファイルを作成する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;例:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; 独自の filetype ファイル</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if exists(&quot;did_load_filetypes&quot;)</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finish</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;augroup filetypedetect</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;au! BufRead,BufNewFile *.mine&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setfiletype mine</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;au! BufRead,BufNewFile *.xyz&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setfiletype drawing</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;augroup END</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; このファイルを&quot;filetype.vim&quot;としてユーザランタイムディレクトリに保存す<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;る。UNIXを例にあげる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:w ~/.vim/filetype.vim</span><br>
<br>
&nbsp;&nbsp; 3. 新しいファイル形式の検出を有効化するためにVimを再起動する。<br>
<br>
&nbsp;&nbsp; 作成したfiletype.vimはデフォルトのFileType自動実行コマンドがインストールさ<br>
&nbsp;&nbsp; れる前に読み込まれる。そのため新しく作成した自動実行コマンドが先に適合し、<br>
&nbsp;&nbsp; &quot;:setfiletype&quot;コマンドがこれ以後に他の自動実行コマンドにより<a class="Type" href="options.html#'filetype'">'filetype'</a>が設<br>
&nbsp;&nbsp; 定されないことを保証する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#new-filetype-scripts" name="new-filetype-scripts">*new-filetype-scripts*</a><br>
D. ファイル形式がファイルの内容を調べる事によってのみ検出可能な場合。<br>
<br>
&nbsp;&nbsp; 1. ユーザランタイムディレクトリを作成する。通常は<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>オプションに<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;記載される最初の項目使えば良い。UNIXを例に挙げる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!mkdir ~/.vim</span><br>
<br>
&nbsp;&nbsp; 2. ファイルの内容で形式を決定するVimスクリプトを作成する。例:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if did_filetype()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot; 既にファイル形式が決定している</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finish&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; ..その時はこのチェックは行なわない</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if getline(1) =~ '^#!.*\&lt;mine\&gt;'</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setfiletype mine</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif getline(1) =~? '\&lt;drawing\&gt;'</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setfiletype drawing</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; より多くの例については$VIMRUNTIME/scripts.vimを参照。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;このファイルを&quot;scripts.vim&quot;としてユーザランタイムディレクトリに保存す<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;る。UNIXを例にあげる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:w ~/.vim/scripts.vim</span><br>
<br>
&nbsp;&nbsp; 3. これだけで検出は正しく動作し、Vimを再起動する必要は無い。<br>
<br>
&nbsp;&nbsp; 新しく作成したscripts.vimはデフォルトのファイル形式チェックの前に読み込まれ<br>
&nbsp;&nbsp; ので、$VIMRUNTIME/scripts.vimに書かれたデフォルトの判定規則を上書することが<br>
&nbsp;&nbsp; できる。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#remove-filetype" name="remove-filetype">*remove-filetype*</a><br>
ファイル形式が誤って検出されたならば、(上を参考に)それを補正するfiletype.vimか<br>
scripts.vimをインストールする。<a class="Type" href="options.html#'filetype'">'filetype'</a>に存在しない形式の名前を設定すれば、<br>
それ以降の検出スクリプトで別の値が設定されてしまうのを避けることができる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set filetype=ignored</span><br>
<br>
複数人で使用する環境を設定していて、個々のユーザにはファイル形式を追加/削除さ<br>
せたくないならば、ランタイムディレクトリに置いて全ユーザが共有するように<br>
filetype.vimとscripts.vimを書く必要がある。そのスクリプトを置くディレクトリに<br>
は<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>の示すうちのどれか1つを選択する。<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>の中に設定を置き<br>
たいディレクトリが見あたらなければ、<a class="Identifier" href="starting.html#system-vimrc">|system-vimrc|</a>内で正しく追加する必要があ<br>
る。既に設定されているデフォルトのディレクトリを変更しないように注意。<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#autocmd-osfiletypes" name="autocmd-osfiletypes">*autocmd-osfiletypes*</a><br>
<span class="Todo">NOTE</span>: RISC OS サポートが削除されたため、このコードは現在無効化されている。将来<br>
これは&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>&nbsp;オプションを使用するでしょう。<br>
<br>
ファイルと共に「形式」を記録できるオペレーティングシステム(OS)では、ファイルが<br>
ある「形式」だった時にだけ実行される自動コマンドを設定することができる。<br>
<br>
実際の「形式」チェックはVimをどのプラットフォームで使用しているかに依存する;<br>
詳細は使用しているシステムの解説書を参照のこと。<br>
<br>
OSによる「形式」を利用するには自動実行コマンドの検出パターンの場所に、次の例に<br>
示すように折カッコで囲んだ検出させたい「形式」のリストを書く:<br>
<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:au BufRead *.html,&lt;&amp;faf;HTML&gt;&nbsp;&nbsp;runtime! syntax/html.vim</span><br>
<br>
これは以下に適合する:<br>
<br>
- ファイル名が&quot;.html&quot;で終了するあらゆるファイル<br>
- 「形式」が&quot;&amp;faf&quot; か &quot;HTML&quot;である全てのファイル。ただしここでいう「形式」とは<br>
&nbsp;&nbsp;Vimのバージョン(稼動しているOS)によって定義される。未知の形式は適合しないと<br>
&nbsp;&nbsp;みなされる。<br>
<br>
「形式」とパターンを同時に指定することもできる (そのような場合には、両方供マッ<br>
チする必要がある):<br>
<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:au BufRead &lt;&amp;fff&gt;diff*</span><br>
<br>
これは「形式」が&quot;&amp;fff&quot;で名前が&quot;diff&quot;で始まるファイルに適合する。<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#plugin-details" name="plugin-details">*plugin-details*</a><br>
&quot;plugin&quot;ディレクトリは<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>オプションに示されているならば、どのディレ<br>
クトリに置いても良い。そこに示された全てのディレクトリにあるプラグインが検索さ<br>
れ読み込まれる。例えば、次のコマンドを実行すると:<br>
<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set runtimepath</span><br>
<br>
次の内容が出力される:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">runtimepath=/etc/vim,~/.vim,/usr/local/share/vim/vim60</span><br>
<br>
この時Vimは以下に示すディレクトリとそれ以下にある全てのプラグインを読み込む:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">/etc/vim/plugin/</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">~/.vim/plugin/</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">/usr/local/share/vim/vim60/plugin/</span><br>
<br>
最後の1つは$VIMRUNTIMEが展開されたものであることに注意。<br>
<br>
プラグインが読み込まれていないらしい場合はどうすれば良いのか? Vim起動時に<a class="Identifier" href="starting.html#-V">|-V|</a><br>
引数を使用すれば何が起こっているか知ることができる:<br>
<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim -V2</span><br>
<br>
多くのメッセージが表示されるが、プラグインの読み込みの前には特定の記述がなされ<br>
る。それは次のように始まる:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">Searching for &quot;plugin/**/*.vim&quot; in</span><br>
<br>
これを見ればVimがプラグインスクリプトをどこから探しているのかがわかる。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
2. ファイル形式別プラグイン&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#filetype-plugins" name="filetype-plugins">*filetype-plugins*</a><br>
<br>
ファイル形式プラグインが有効になっていれば<a class="Identifier" href="filetype.html#:filetype-plugin-on">|:filetype-plugin-on|</a>、プラグイン読<br>
込時にオプションが設定されキーマップが定義される。それらは全てバッファローカル<br>
で、他のファイルに対しては決して作用しない。<br>
<br>
ファイル形式により定義されるキーマップが自分で定義したキーマップの邪魔になるこ<br>
ともあり得る。幾つかこれを回避する方法がある:<br>
1. &quot;maplocalleader&quot;にキーマップの先頭に使用するキーシーケンスを設定する。例:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let maplocalleader = &quot;,&quot;</span><br>
&nbsp;&nbsp;&nbsp;デフォルトのバックスラッシュ(\ 記号)に替えてカンマが全てのマップの始まりの<br>
&nbsp;&nbsp; キーになる。<a class="Identifier" href="map.html#<LocalLeader>">|&lt;LocalLeader&gt;|</a>も参照。<br>
<br>
2. 独自のマップを定義する。例:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:map ,p &lt;Plug&gt;MailQuote</span><br>
&nbsp;&nbsp;&nbsp;どのような機能が提供され、それにどのような文字列がキーマップされているの<br>
&nbsp;&nbsp; か、プラグインファイルの説明をチェックする必要がある。<br>
&nbsp;&nbsp; 独自のキーマップはプラグインが読み込まれる (つまりその形式のファイルが読み<br>
&nbsp;&nbsp; 込まれる) 前に定義する必要がある。そうすればプラグインはデフォルトキーマッ<br>
&nbsp;&nbsp; ピングのインストールを行なわない。<br>
<br>
3. 特定のファイル形式についてキーマップを無効化するならば、そのファイル形式名<br>
&nbsp;&nbsp; を含むある変数を設定する。ファイル形式&quot;mail&quot;のキーマップを無効にするには次<br>
&nbsp;&nbsp; のようにする:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let no_mail_maps = 1</span><br>
<br>
4. ファイル形式による全てのキーマップを無効化するには次の変数を設定する:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let no_plugin_maps = 1</span><br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#ftplugin-overrule" name="ftplugin-overrule">*ftplugin-overrule*</a><br>
グローバルな($VIMRUNTIMEにある、システムが提供する)ファイル形式プラグインが<br>
キッチリ望むように動作しない場合には、これを変更する方法が3通りある:<br>
<br>
1. 設定を追加する。<br>
&nbsp;&nbsp; 新しいファイル形式プラグインを作り、<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>の始めのほうに置く。一例と<br>
&nbsp;&nbsp; して、UNIXではこのファイルを利用できる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim ~/.vim/ftplugin/fortran.vim</span><br>
&nbsp;&nbsp;&nbsp;追加したい設定やキーマップをこのファイルに記述する。グローバルプラグインは<br>
&nbsp;&nbsp; これの後に読み込まれるので、ここで行なった設定は上書される可能性がある。そ<br>
&nbsp;&nbsp; のような場合には以下の2つの方法のどちらかを利用する。<br>
<br>
2. プラグインのコピーを作成し、そちらを変更する。<br>
&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>の始めのほうにそのプラグインのコピーを置く。一例として、UNIXで<br>
&nbsp;&nbsp; はこのように行なう:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cp $VIMRUNTIME/ftplugin/fortran.vim ~/.vim/ftplugin/fortran.vim</span><br>
&nbsp;&nbsp;&nbsp;そうすればコピーしたファイルを好きなように変更できる。これは変数<br>
&nbsp;&nbsp; b:did_ftpluginが設定されていれば、グローバルプラグインは読み込まれない仕組<br>
&nbsp;&nbsp; みになっていることによる。<br>
&nbsp;&nbsp; この方法には、配布されるプラグインが改良された際に、再びコピーし同じように<br>
&nbsp;&nbsp; 変更しなければならない、という短所がある。<br>
<br>
3. グローバルプラグインの後で読み込まれる設定で上書する。<br>
&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>の最後に、新しいファイル形式プラグインを作成する。一例として、<br>
&nbsp;&nbsp; UNIXではこのファイルを利用できる:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim ~/.vim/after/ftplugin/fortran.vim</span><br>
&nbsp;&nbsp;&nbsp;このファイルの中では、変更したい設定をちょうど変更できる。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
3.&nbsp;&nbsp;標準で付属する形式別プラグインの解説&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#ftplugin-docs" name="ftplugin-docs">*ftplugin-docs*</a><br>
<br>
<br>
チェンジログ(CHANGELOG)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#ft-changelog-plugin" name="ft-changelog-plugin">*ft-changelog-plugin*</a><br>
<br>
(訳注)エントリ=日付ごとの区切り アイテム=日付内の項目<br>
<br>
チェンジログファイルを簡単に扱うことを可能にする。いくつかの便利なコマンドや<br>
マッピング、変数がある。<br>
<br>
オプション:<br>
<a class="Type" href="options.html#'comments'">'comments'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;フォーマットを崩さないように空に設定される。<br>
<a class="Type" href="options.html#'textwidth'">'textwidth'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 標準的な値である78に設定される。<br>
<a class="Type" href="options.html#'formatoptions'">'formatoptions'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; テキストを折り返すために 't' が加えられる。<br>
<br>
コマンド:<br>
NewChangelogEntry&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 適切にアイテムを追加する(以下参照)。<br>
<br>
ローカルマッピング:<br>
<span class="Special">&lt;Leader&gt;</span>o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 上と同様に適切にアイテムを追加する(以下参照)。<br>
<br>
グローバルマッピング:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">NOTE</span>: グローバルマッピングはあらかじめ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frplugin/changelog.vim を実行することで有効になる。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;例えば<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime ftplugin/changelog.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;と&nbsp;<a class="Identifier" href="starting.html#.vimrc">|.vimrc|</a>&nbsp;に書くようにして。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(訳注)この例だと間違えてこのまま書いちゃいそう。<br>
<span class="Special">&lt;Leader&gt;</span>o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カレントディレクトリに&quot;ChangeLog&quot;というファイルがあ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;れば開き、既に開かれていればバッファを切替える。そし<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;て上記のローカルマッピング<span class="Special">&lt;Leader&gt;</span>oと同じように働<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;く。<br>
<br>
変数:<br>
g:changelog_timeformat&nbsp;&nbsp;非推奨。g:changelog_dateformatを使うこと。<br>
g:changelog_dateformat&nbsp;&nbsp;エントリに入れる日付(と時間)の書式。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使えるフォーマットは&nbsp;<a class="Identifier" href="eval.html#strftime()">|strftime()|</a>&nbsp;と同じ。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;デフォルトでは標準的に使われている &quot;%Y-%m-%d&quot; が設定<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;されている。<br>
g:changelog_username&nbsp;&nbsp;&nbsp;&nbsp;ユーザーの名前とメールアドレス。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;デフォルトは環境変数とシステムファイルから推定され<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;る。まずカレントユーザーについての情報を得るために<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/etc/passwd を探す。そこの最初の区切りにユーザーの実<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名があることを期待している。次に環境変数の$NAMEを<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チェックする。最後にアドレスを得るために`whoami`と<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`hostname`を実行する。最終的に次のような値を決定す<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;る。<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Full Name &lt;user@host&gt;</span><br>
<br>
g:changelog_new_date_format<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;エントリを作成するときの書式。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;次の特別な文字が使える:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一つの '%' が入る<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%d&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上記で定義した日付<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%u&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上記で定義したユーザーの名前<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;作成後のカーソルの位置<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;デフォルトは &quot;%d %u\n\n\5* %c\n\n&quot;。これは次のように<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;なる ( | はカーソルの位置を示している。しかし、行頭<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;の | は行の始まりを表す)<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|2003-01-14&nbsp;&nbsp;Full Name&nbsp;&nbsp;&lt;user@host&gt;</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* |</span><br>
<br>
g:changelog_new_entry_format<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;アイテムを作成するときの書式。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;次の特別な文字が使える:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;作成後のカーソルの位置<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;デフォルトは &quot;\t*\c&quot;。これは次のようになる<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* |</span><br>
<br>
g:changelog_date_entry_search<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;日付エントリを探すための検索パターン。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g:changelog_new_date_formatと同じ特別な文字が使え<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;る。デフォルトは '^/\s*%d\_s*%u' で、次のような行<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|2003-01-14&nbsp;&nbsp;Full Name&nbsp;&nbsp;&lt;user@host&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; を見つける。<br>
<br>
g:changelog_date_end_entry_search<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;日付エントリの終端を探すための検索パターン。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g:changelog_new_date_formatにおけるトークンと同じもの<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;が使用できる。デフォルトは'^\s*$'で、空白文字のみを含<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;む行または完全な空行を検索する。<br>
<br>
b:changelog_name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#b:changelog_name" name="b:changelog_name">*b:changelog_name*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チェンジログファイルの名前。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;既定値は 'ChangeLog'。<br>
<br>
b:changelog_path<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カレントバッファに使うチェンジログのパス。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;既定では空文字列で、カレントバッファと同じディレクトリ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;から&nbsp;<a class="Identifier" href="filetype.html#b:changelog_name">|b:changelog_name|</a>&nbsp;という名前のファイルが検索され<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;る。それが見つからない場合は、カレントバッファの親<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ディレクトリを検索する。ファイルが見つかるか、それ以上<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上がれなくなるまで、再帰的にこれが繰り返される。<br>
<br>
b:changelog_entry_prefix<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいエントリのプレフィックスを生成するための関数の名<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前を指定する。関数は引数を取らず、プレフィックスの文字<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;列を返す。関数は空文字を返しても構わない。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;デフォルトでは ChangeLog のパスとカレントバッファのパ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;スの間の最短パスが使用される。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;将来的には他の変数コンテキスト (例えば g:) でも指定で<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;きるようになる予定です。<br>
<br>
チェンジログエントリは適切な位置に挿入される。現在の日付とユーザーを得た後<br>
に、その日付とユーザーのエントリをファイルから探し、見つかればその下にアイテ<br>
ムを加える。なければ新しいエントリとアイテムをファイルの先頭に加える。<br>
<br>
<br>
フォートラン(FORTRAN)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#ft-fortran-plugin" name="ft-fortran-plugin">*ft-fortran-plugin*</a><br>
<br>
オプション:<br>
<a class="Type" href="options.html#'expandtab'">'expandtab'</a>&nbsp;&nbsp;&nbsp;&nbsp; .vimrcでfortran_have_tabsが指定されなければ、フォートラン標準<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;に従ってタブ文字を避けるために有効にする。<br>
<a class="Type" href="options.html#'textwidth'">'textwidth'</a>&nbsp;&nbsp;&nbsp;&nbsp; フォートラン標準に従って固定形式のソースでは72に、自由形式の<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ソースでは80に設定される。<br>
<a class="Type" href="options.html#'formatoptions'">'formatoptions'</a>&nbsp;コードとコメントを分けて、長い行を保持するように設定される。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;これにより<a class="Identifier" href="change.html#gq">|gq|</a>でコメントを整形できる。<br>
fortran_have_tabsについての議論とソース形式の判定法については<br>
<a class="Identifier" href="syntax.html#ft-fortran-syntax">|ft-fortran-syntax|</a>を参照。<br>
<br>
<br>
<span class="Statement">GIT COMMIT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="Constant" href="filetype.html#ft-gitcommit-plugin" name="ft-gitcommit-plugin">*ft-gitcommit-plugin*</a><br>
<br>
現在のコミットの差分をプレビューウィンドウに表示する :DiffGitCached というコマ<br>
ンドが提供されている。このコマンドを実行すると、その引数をつけて &quot;git diff<br>
--cached&quot; が実行される。<br>
<br>
<br>
メール(MAIL)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="filetype.html#ft-mail-plugin" name="ft-mail-plugin">*ft-mail-plugin*</a><br>
<br>
オプション:<br>
<a class="Type" href="options.html#'modeline'">'modeline'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;トロイの木馬の危険を避けるのと、「件名」に含まれる&quot;Vim:&quot;がエ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ラーメッセージの原因となる可能性を排除するために、モード行はオ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;フになる。<br>
<a class="Type" href="options.html#'textwidth'">'textwidth'</a>&nbsp;&nbsp;&nbsp;&nbsp; 72に設定する。e-mailでは良く推奨される値。<br>
<a class="Type" href="options.html#'formatoptions'">'formatoptions'</a>&nbsp;テキストを折返し、新しい行ではコメントリーダを繰り返すをように<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;設定。引用記号の&quot;&gt;&quot;が繰り返される。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;これにより<a class="Identifier" href="change.html#gq">|gq|</a>で引用文を整形できる。<br>
<br>
ローカルキーマップ:<br>
<span class="Special">&lt;LocalLeader&gt;</span>q&nbsp;&nbsp; or&nbsp;&nbsp; \\MailQuote<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ビジュアルモードでは選択されたテキストを、ノーマルモードではカーソルの<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;位置からファイル末端までのテキストを引用する。これは全ての行に &quot;&gt; &quot; が<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;挿入されることを意味している。<br>
<br>
<span class="Statement">MAN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="Constant" href="filetype.html#ft-man-plugin" name="ft-man-plugin">*ft-man-plugin*</a>&nbsp;<a class="Constant" href="filetype.html#:Man" name=":Man">*:Man*</a><br>
<br>
マニュアルページを洗練された方法で表示する。ユーザーマニュアルの<br>
<a class="Identifier" href="usr_12.html#find-manpage">|find-manpage|</a>もご覧ください。<br>
<br>
マニュアルページを読み込む前に&quot;:Man&quot;を利用するには、起動vimrcファイルでこのス<br>
クリプトを読み込む必要がある:<br>
<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime ftplugin/man.vim</span><br>
<br>
オプション:<br>
<a class="Type" href="options.html#'iskeyword'">'iskeyword'</a>&nbsp;&nbsp;&nbsp;&nbsp; マニュアルページの名前の上で<span class="Special">CTRL-]</span>を使えるようにするために文字<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'.' が追加される。<br>
<br>
コマンド:<br>
Man&nbsp;<span class="Special">{name}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">{name}</span>&nbsp;についてのマニュアルページを表示する。<br>
Man&nbsp;<span class="Special">{number}</span>&nbsp;<span class="Special">{name}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">{number}</span>&nbsp;セクションの&nbsp;<span class="Special">{name}</span>&nbsp;に付いてのマニュアルページを表示<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;する。<br>
<br>
グローバルキーマップ:<br>
<span class="Special">&lt;Leader&gt;</span>K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソル下の単語についてのマニュアルページを表示する。<br>
<br>
ローカルキーマップ:<br>
<span class="Special">CTRL-]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソルの下の単語についてのマニュアルページへ移動する。<br>
<span class="Special">CTRL-T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;直前のマニュアルページへ戻る。<br>
<br>
<br>
<span class="Statement">PDF&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="Constant" href="filetype.html#ft-pdf-plugin" name="ft-pdf-plugin">*ft-pdf-plugin*</a><br>
<br>
PDF ファイル内をジャンプするため、タグスタックをシミュレートする&nbsp;<span class="Special">&lt;C-]&gt;</span>&nbsp;と<span class="Special">&lt;C-T&gt;</span><br>
という2つのマップが提供されている。次のものがタグとして扱われる:<br>
<br>
- &quot;startxref&quot; の後から xref テーブルまでのバイトオフセット<br>
- トレイラー内の /Prev キーから前の xref テーブルへのバイトオフセット<br>
- xref テーブル内の &quot;0123456789 00000 n&quot; という形式の行<br>
- PDF 内の任意の位置における &quot;1 0 R&quot; のようなオブジェクト参照<br>
<br>
これらのマップは次のコマンドで無効化できる<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let g:no_pdf_maps = 1</span><br>
<br>
<br>
<span class="Statement">RPM SPEC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="Constant" href="filetype.html#ft-spec-plugin" name="ft-spec-plugin">*ft-spec-plugin*</a><br>
<br>
このプラグインに関する説明は非常に多いので、別のファイル&nbsp;<a class="Identifier" href="pi_spec.html">|pi_spec.txt|</a>&nbsp;に記述<br>
してある。<br>
<br>
<span class="Statement">SQL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="Constant" href="filetype.html#ft-sql" name="ft-sql">*ft-sql*</a><br>
<br>
このプラグインについての解説は長くなるので、別のファイルに分割してある:<br>
<a class="Identifier" href="ft_sql.html">|ft_sql.txt|</a><br>
<br>
<br>
<span class="Statement">TEX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a class="Constant" href="filetype.html#ft-tex-plugin" name="ft-tex-plugin">*ft-tex-plugin*</a><br>
<br>
*.tex ファイルの最初の行が次のような形なら<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%&amp;&lt;format&gt;</span><br>
ファイルタイプは次のどれかになる: plaintex (プレイン TeX), context (ConTeXt),<br>
tex (LaTeX)。そうでなければ context か tex かを決定するためにファイル内から<br>
キーワードを検索する。もしキーワードが見つからなければ既定値として plaintex に<br>
なる。この既定値は、変数 g:tex_flavor を定義すれば変更することができる。次のど<br>
れかのようにする:<br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:tex_flavor = &quot;plain&quot;</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:tex_flavor = &quot;context&quot;</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:tex_flavor = &quot;latex&quot;</span><br>
現在のところこれ以外のフォーマットは識別されない。<br>
<br>
&nbsp;vim&#0058;tw=78:ts=8:ft=help:norl:<br>
